---
title: 为什么 APP 要用 token 而不用 session 认证？
category:
  - API 设计
---

# 为什么 APP 要用 token 而不用 session 认证？

APP 端更常用 **Token** 而不是 **Session** 认证，主要是因为 **移动端和 Web 浏览器的工作环境差异** 以及 **跨平台通信的需求**。

---

## 1️⃣ Session 认证的特点

* **工作机制**：

  1. 用户登录 → 服务器创建 Session（保存在服务器内存/缓存中）
  2. 服务器返回一个 Session ID（通常放在 Cookie 里）
  3. 后续请求浏览器自动携带 Cookie → 服务器用 Session ID 找到用户信息

* **局限性**：

  * 依赖 **Cookie**（APP 里没有浏览器的 Cookie 机制，需要额外实现存储和传递）
  * Session 保存在服务器 → **多服务器部署要共享 Session（麻烦）**
  * 横向扩展时需要 Redis 等中间件同步 Session

---

## 2️⃣ Token 认证的特点

* **工作机制**：

  1. 用户登录 → 服务器生成 Token（如 JWT）
  2. Token 发给客户端（APP 自己存储，比如本地存储/加密数据库）
  3. 每次请求 APP 主动在 Header（`Authorization: Bearer <token>`）里带 Token
  4. 服务器用密钥验证 Token，有效则通过，不依赖服务器内存

* **优势**：

  1. **跨平台**（APP、Web、小程序都能用，不依赖 Cookie）
  2. **无状态**（不需要在服务器保存会话，天然适合分布式和微服务）
  3. **扩展性好**（可以加签发时间、过期时间、用户角色等信息）
  4. **安全性可控**（可以随时使某个 Token 失效）
  5. **更轻量**（减少服务器 Session 管理开销）

---

## 3️⃣ 为什么 APP 更适合 Token

| 对比项         | Session 认证     | Token 认证（JWT 等） |
| ----------- | -------------- | --------------- |
| 是否依赖 Cookie | ✅ 是            | ❌ 否             |
| 跨平台支持       | 一般             | 非常好             |
| 分布式部署       | 需共享 Session    | 天然支持            |
| 服务端存储压力     | 高（要保存 Session） | 低（无状态）          |
| 离线处理        | 不方便            | 支持（Token 可本地保存） |

---

💡 总结：

> **APP 用 Token** 是因为它不依赖 Cookie，跨平台方便，天然适合分布式和微服务架构，且管理成本低。
> **Session** 更适合传统 Web 浏览器环境（浏览器自动管理 Cookie）。

---

